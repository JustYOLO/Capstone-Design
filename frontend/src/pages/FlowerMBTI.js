import React, { useState } from "react";

// ğŸŒ¸ MBTIì— ë”°ë¥¸ ê½ƒ ë§¤ì¹­ ë°ì´í„°
const flowerResults = {
  ENFP: { name: "í•´ë°”ë¼ê¸° ğŸŒ»", meaning: "í¬ë§, ì¡´ê²½, ì¶©ì„±", description: "ëŠ˜ ì£¼ë³€ì„ ë°íˆëŠ” ENFP! í™œë°œí•˜ê³  ë”°ëœ»í•œ ì„±ê²©ê³¼ í¬ë§ì„ ìƒì§€ ì•ŠëŠ” í•´ë°”ë¼ê¸°ê°€ ì˜ ì–´ìš¸ë ¤ìš”." },
  ENTP: { name: "ì¥ë¯¸ ğŸŒ¹", meaning: "ì—´ì •, ë„ì „, ì‚¬ë‘", description: "ë„ì „ì„ ì¦ê¸°ëŠ” ENTP! ëœ¨ê±°ìš´ ì—´ì •ì„ ê°€ì§„ ì¥ë¯¸ì²˜ëŸ¼ ë§¤ë ¥ì ì¸ ì¹´ë¦¬ìŠ¤ë§ˆê°€ ë‹ë³´ì´ëŠ” íƒ€ì…ì´ì—ìš”." },
  ESFP: { name: "íŠ¤ë¦½ ğŸŒ·", meaning: "ì‚¬ë‘ì˜ ê³ ë°±, ëª…ë‘í•¨", description: "ë¶„ìœ„ê¸° ë©”ì´ì»¤ ESFP! í™”ë ¤í•˜ê³  ì‚¬ë‘ìŠ¤ëŸ¬ìš´ íŠ¤ë¦½ì²˜ëŸ¼ ì—ë„ˆì§€ë¥¼ ì£¼ëŠ” ì¡´ì¬ëë‹ˆë‹¤." },
  ESTP: { name: "ì¹´ë„¤ì´ì…˜ ğŸŒ¸", meaning: "ëŠ¥ë ¥, ì—´ì •, ëª¨í—˜", description: "ì¦‰í¥ì ì´ê³  ë„ì „ ì •ì‹ ì´ ê°•í•œ ESTP! ì¶”ì§„ë ¥ ìˆëŠ” ì„±ê²©ê³¼ ì¹´ë„¤ì´ì…˜ì˜ ê°•í•œ ìƒëª…ë ¥ì´ ë‹®ì•˜ì–´ìš”." },
  ENFJ: { name: "ìˆ˜ì„ í™” ğŸ’›", meaning: "ìì• , ì¡´ê²½, ë”°ëœ»í•¨", description: "ë¦¬ë”ì‹­ì´ ë›°ì–´ë‚˜ê³  ë‚¨ì„ ë•ëŠ” ENFJ! ì‚¬ëŒë“¤ì—ê²Œ í¬ë§ì„ ì£¼ëŠ” ë”°ëœ»í•œ ìˆ˜ì„ í™”ì™€ ì˜ ì–´ìš¸ë ¤ìš”." },
  ENTJ: { name: "ë™ë°±ê½ƒ ğŸ”´", meaning: "ì§€ë„ë ¥, ì‹ ë…, ê²°ë‹¨ë ¥", description: "ì¹´ë¦¬ìŠ¤ë§ˆ ë„˜ì¹˜ëŠ” ENTJ! ê°•í•œ ë¦¬ë”ì‹­ì„ ê°€ì§„ ë™ë°±ê½ƒì²˜ëŸ¼ ëª©í‘œë¥¼ í–¥í•´ ë‚˜ì•„ê°€ëŠ” ì„±ê²©ì´ì—ìš”." },
  ESFJ: { name: "ë°ì´ì§€ ğŸŒ¼", meaning: "í‰í™”, ìˆœìˆ˜í•œ ì‚¬ë‘", description: "ì¹œì ˆí•˜ê³  ë‹¤ì •í•œ ESFJ! ì‚¬ë‘ìŠ¤ëŸ¬ìš´ ë°ì´ì§€ì²˜ëŸ¼ ì¡°í™”ë¡œìš´ ë¶„ìœ„ê¸°ë¥¼ ë§Œë“œëŠ” íƒ€ì…ì´ì—ìš”." },
  INFP: { name: "ë¼ë²¤ë” ğŸ’œ", meaning: "ê¿ˆ, ì¹˜ìœ , ì¡°ìš©í•œ ì‚¬ë‘", description: "ìƒìƒë ¥ì´ í’ë¶€í•œ INFP! ì¡°ìš©í•˜ê³  ë”°ëœ»í•œ ë¼ë²¤ë”ì²˜ëŸ¼ ê°ì„±ì´ í’ë¶€í•œ íƒ€ì…ì´ì—ìš”." },
  INFJ: { name: "ë™ë°±ê½ƒ ğŸ”´", meaning: "ê³ ê·€í•¨, í¬ìƒ, ë³€í•¨ì—†ëŠ” ì‚¬ë‘", description: "ê¹Šì€ ê³µê°ë ¥ì„ ê°€ì§„ INFJ! ì¡°ìš©í•˜ì§€ë§Œ ê°•í•œ ì¡´ì¬ê°ì„ ê°€ì§„ ë™ë°±ê½ƒì´ ì–´ìš¸ë ¤ìš”." },
  ISFP: { name: "ë²šê½ƒ ğŸŒ¸", meaning: "ìˆœê°„ì˜ ì•„ë¦„ë‹¤ì›€, ì„¬ì„¸í•¨", description: "ì˜ˆìˆ ì  ê°ê°ì´ ë›°ì–´ë‚œ ISFP! ë²šê½ƒì²˜ëŸ¼ ê°ì„±ì ì´ê³  ì„¬ì„¸í•œ ë©´ì´ ê°•í•œ íƒ€ì…ì´ì—ìš”." },
  ISTP: { name: "ìš©ë‹´ê½ƒ ğŸ”µ", meaning: "ì‹ ì¤‘í•¨, ëƒ‰ì •í•œ ì•„ë¦„ë‹¤ì›€", description: "ë¶„ì„ì ì´ê³  ì‹ ì¤‘í•œ ISTP! ì°¨ë¶„í•˜ê³  ê¹Šì€ ë§¤ë ¥ì„ ê°€ì§„ ìš©ë‹´ê½ƒê³¼ ë‹®ì•˜ì–´ìš”." },
  INTJ: { name: "í‘ì¥ë¯¸ âš«ğŸŒ¹", meaning: "ë¹„ë°€, ì‹ ë¹„ë¡œì›€, ê²°ë‹¨ë ¥", description: "ë…ì°½ì ì¸ ì‚¬ê³ ë¥¼ í•˜ëŠ” INTJ! ì‹ ë¹„ë¡œìš´ í‘ì¥ë¯¸ì²˜ëŸ¼ ê°•í•œ ì‹ ë…ì„ ê°€ì§„ íƒ€ì…ì´ì—ìš”." },
  INTP: { name: "ìˆ˜êµ­ ğŸ’™", meaning: "ê¹Šì€ ìƒê°, ëƒ‰ì² í•œ ì§€ì„±", description: "ëŠì„ì—†ì´ íƒêµ¬í•˜ëŠ” INTP! ë‹¤ì±„ë¡œìš´ ìƒê°ì„ ê°€ì§„ ì§€ì ì¸ íƒ€ì…ìœ¼ë¡œ ìˆ˜êµ­ê³¼ ì˜ ì–´ìš¸ë ¤ìš”." },
  ESTJ: { name: "êµ­í™” ğŸŒ¼", meaning: "ì±…ì„ê°, ì„±ì‹¤í•¨", description: "ì²´ê³„ì ì´ê³  ì‹ ë¢°í•  ìˆ˜ ìˆëŠ” ESTJ! ê°•í•œ ì±…ì„ê°ì„ ê°€ì§„ êµ­í™”ì™€ ì˜ ì–´ìš¸ë ¤ìš”." },
  ISTJ: { name: "ë°±í•© ğŸ¤", meaning: "ìˆœê²°, ì •ì§", description: "ì›ì¹™ì„ ì¤‘ì‹œí•˜ëŠ” ISTJ! ë³€í•¨ì—†ëŠ” ë°±í•©ê³¼ ë‹®ì•˜ì–´ìš”." },
  ISFJ: { name: "ì¹´ë©œë¦¬ì•„ ğŸŒº", meaning: "ë°°ë ¤, í—Œì‹ ", description: "ë°°ë ¤ì‹¬ ê¹Šê³  ë”°ëœ»í•œ ISFJ! ì¡°ìš©í•œ ì¹´ë©œë¦¬ì•„ì™€ ì–´ìš¸ë ¤ìš”." }
};

// ì§ˆë¬¸ ë°ì´í„°
const questions = [
  { category: "EI", question: "ë‹¹ì‹ ì€ ìƒˆë¡œìš´ ì‚¬ëŒê³¼ ì‰½ê²Œ ì¹œí•´ì§ˆ ìˆ˜ ìˆë‚˜ìš”?", options: ["ë„¤, ìƒˆë¡œìš´ ë§Œë‚¨ì´ ì¦ê²ìŠµë‹ˆë‹¤.", "ì•„ë‹ˆìš”, ì‹ ì¤‘í•˜ê²Œ ë‹¤ê°€ê°‘ë‹ˆë‹¤."], scores: [1, 0] },
  { category: "EI", question: "íŒŒí‹°ë‚˜ ëª¨ì„ì´ ëë‚œ í›„, ê¸°ë¶„ì´ ì–´ë–¤ê°€ìš”?", options: ["ì—ë„ˆì§€ê°€ ë„˜ì¹˜ê³  ê¸°ë¶„ì´ ì¢‹ì•„ì§‘ë‹ˆë‹¤!", "í”¼ê³¤í•˜ê³  í˜¼ìë§Œì˜ ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤."], scores: [1, 0] },
  { category: "EI", question: "í˜¼ì ì¹´í˜ì—ì„œ ì±…ì„ ì½ëŠ” ê²ƒê³¼ ì¹œêµ¬ë“¤ê³¼ ìˆ˜ë‹¤ë¥¼ ë– ëŠ” ê²ƒ ì¤‘ ì–´ëŠ ê²ƒì´ ë” ëŒë¦¬ë‚˜ìš”?", options: ["ì¹œêµ¬ë“¤ê³¼ ìˆ˜ë‹¤ ë– ëŠ” ê²ƒì´ ë” ì¢‹ì•„ìš”!", "í˜¼ì ì¡°ìš©íˆ ìˆëŠ” ê²Œ í¸í•´ìš”."], scores: [1, 0] },

  { category: "SN", question: "ì„ ë¬¼ì„ ê³ ë¥¼ ë•Œ, ì–´ë–¤ ê¸°ì¤€ì´ ë” ì¤‘ìš”í•œê°€ìš”?", options: ["ì‹¤ìš©ì„±ê³¼ í˜„ì‹¤ì ì¸ í•„ìš”ë¥¼ ê³ ë ¤í•©ë‹ˆë‹¤.", "íŠ¹ë³„í•˜ê³  ì˜ë¯¸ ìˆëŠ” ê°ì„±ì ì¸ ì„ ë¬¼ì„ ì„ íƒí•©ë‹ˆë‹¤."], scores: [1, 0] },
  { category: "SN", question: "ì—¬í–‰ì„ ê°ˆ ë•Œ, ë‹¹ì‹ ì€ ì–´ë–¤ ìŠ¤íƒ€ì¼ì¸ê°€ìš”?", options: ["ì² ì €í•œ ê³„íšì„ ì„¸ìš°ê³  êµ¬ì²´ì ìœ¼ë¡œ ì¤€ë¹„í•©ë‹ˆë‹¤.", "ì¦‰í¥ì ìœ¼ë¡œ ì›€ì§ì´ë©° ìƒˆë¡œìš´ ê²½í—˜ì„ ì¤‘ìš”ì‹œí•©ë‹ˆë‹¤."], scores: [1, 0] },
  { category: "SN", question: "ê½ƒì„ ë³¼ ë•Œ, ì–´ë–¤ ê²ƒì´ ë¨¼ì € ë– ì˜¤ë¥´ë‚˜ìš”?", options: ["ì´ ê½ƒì´ ì–´ë–¤ í™˜ê²½ì—ì„œ ì˜ ìë„ê¹Œ?", "ì´ ê½ƒì˜ ì˜ë¯¸ì™€ ê°ì„±ì ì¸ ë¶„ìœ„ê¸°ëŠ” ì–´ë–¨ê¹Œ?"], scores: [1, 0] },

  { category: "TF", question: "ì¹œêµ¬ê°€ ê³ ë¯¼ì„ ì´ì•¼ê¸°í•  ë•Œ, ë‹¹ì‹ ì˜ ë°˜ì‘ì€?", options: ["í˜„ì‹¤ì ì¸ í•´ê²° ë°©ë²•ì„ ì œì•ˆí•©ë‹ˆë‹¤.", "ê³µê°í•˜ë©° ìœ„ë¡œí•´ì¤ë‹ˆë‹¤."], scores: [1, 0] },
  { category: "TF", question: "ì¤‘ìš”í•œ ê²°ì •ì„ ë‚´ë¦´ ë•Œ, ì–´ë–¤ ê¸°ì¤€ì„ ë” ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ë‚˜ìš”?", options: ["ë…¼ë¦¬ì ì´ê³  ê°ê´€ì ì¸ ì´ìœ ë¥¼ ìš°ì„ í•©ë‹ˆë‹¤.", "ê°ì •ê³¼ ì£¼ë³€ ì‚¬ëŒë“¤ì˜ ì˜ê²¬ì„ ê³ ë ¤í•©ë‹ˆë‹¤."], scores: [1, 0] },
  { category: "TF", question: "ê½ƒì„ ê³ ë¥¼ ë•Œ, ì–´ë–¤ ê¸°ì¤€ì´ ë” ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•˜ë‚˜ìš”?", options: ["ê°€ê²©ê³¼ ìœ ì§€ ê´€ë¦¬ì˜ ìš©ì´ì„±ì´ ì¤‘ìš”í•´ìš”.", "ê½ƒì˜ ì˜ë¯¸ì™€ ê°ì„±ì´ ì¤‘ìš”í•´ìš”."], scores: [1, 0] },

  { category: "PJ", question: "ì—¬í–‰ì„ ë– ë‚˜ê¸° ì „, ë‹¹ì‹ ì€ ì–´ë–¤ ìŠ¤íƒ€ì¼ì¸ê°€ìš”?", options: [ "ì¦‰í¥ì ìœ¼ë¡œ ê²°ì •í•˜ê³  ìœ ì—°í•˜ê²Œ ì›€ì§ì…ë‹ˆë‹¤.", "ì² ì €í•˜ê²Œ ì¼ì •ì„ ê³„íší•˜ê³  ì •ë¦¬í•©ë‹ˆë‹¤."], scores: [1, 0] },
  { category: "PJ", question: "ê½ƒì„ í‚¤ìš¸ ë•Œ, ì–´ë–¤ ë°©ì‹ì´ ë” ë§ˆìŒì— ë“œë‚˜ìš”?", options: ["ê¸°ë¶„ ë”°ë¼ ê´€ë¦¬í•˜ë©° ìì—°ìŠ¤ëŸ½ê²Œ í‚¤ì›ë‹ˆë‹¤.", "ì¼ì •í•œ ë£¨í‹´ì„ ì •í•´ë†“ê³  ê¾¸ì¤€íˆ ê´€ë¦¬í•©ë‹ˆë‹¤."], scores: [1, 0] },
  { category: "PJ", question: "ë§ˆê° ê¸°í•œì´ ìˆëŠ” í”„ë¡œì íŠ¸ê°€ ìˆì„ ë•Œ, ë‹¹ì‹ ì€ ì–´ë–»ê²Œ í–‰ë™í•˜ë‚˜ìš”?", options: [ "ë§ˆê° ê¸°í•œì´ ë‹¤ê°€ì™€ì•¼ ì§‘ì¤‘ì´ ì˜ ë©ë‹ˆë‹¤.", "ì¼ì°ë¶€í„° ê³„íšì ìœ¼ë¡œ ì¤€ë¹„í•˜ì—¬ ë§ˆê° ì „ì— ëëƒ…ë‹ˆë‹¤."], scores: [1, 0] }
];

const FlowerMBTI = () => {
  const [answers, setAnswers] = useState({});
  const [result, setResult] = useState(null);

  const handleSelect = (index, category, score) => {
    setAnswers(prev => ({ ...prev, [index]: { category, score } }));
  };
  
  const calculateMBTI = () => {
    let scores = { EI: 0, SN: 0, TF: 0, PJ: 0 };
  
    // ì¹´í…Œê³ ë¦¬ë³„ ì ìˆ˜ í•©ì‚°
    Object.values(answers).forEach(({ category, score }) => scores[category] += score);
  
    // MBTI ì½”ë“œ ìƒì„±
    const mbti = 
      (scores.EI >= 2 ? "E" : "I") +
      (scores.SN >= 2 ? "S" : "N") +
      (scores.TF >= 2 ? "T" : "F") +
      (scores.PJ >= 2 ? "P" : "J");
  
    // ğŸ” ë””ë²„ê¹…ìš© ì½˜ì†” ì¶œë ¥
    console.log("MBTI ê²°ê³¼:", mbti);
    console.log("ì €ì¥ëœ MBTI í‚¤:", Object.keys(flowerResults));  // í˜„ì¬ ì €ì¥ëœ ê½ƒ MBTI í‚¤ê°’ í™•ì¸
    console.log("ë§¤ì¹­ ì—¬ë¶€:", mbti in flowerResults);
  
    // ê²°ê³¼ ì„¤ì • (ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ ë©”ì‹œì§€ ì¶œë ¥)
    setResult(flowerResults[mbti] || { name: "ì•Œ ìˆ˜ ì—†ìŒ", meaning: "ì •ë³´ ì—†ìŒ", description: "ê²°ê³¼ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤." });
  };

  return (
    <div className="flex flex-col items-center p-6 bg-gray-100 min-h-screen">
      <h1 className="text-4xl font-bold text-gray-900 mb-6">ğŸŒ¸ ê½ƒ BTI í…ŒìŠ¤íŠ¸</h1>

      {questions.map((q, i) => (
        <div key={i} className="w-full max-w-lg bg-white p-6 mb-4 rounded-lg shadow-md">
          <p className="text-lg font-semibold text-gray-800 mb-3">{q.question}</p>
          <div className="flex space-x-4">
            {q.options.map((option, j) => (
              <button
                key={j}
                className={`w-1/2 px-4 py-3 rounded-lg transition 
                  ${answers[i]?.score === q.scores[j] ? "bg-pink-400 text-white" : "bg-gray-200 hover:bg-gray-300"}`}
                onClick={() => handleSelect(i, q.category, q.scores[j])}
              >
                {option}
              </button>
            ))}
          </div>
        </div>
      ))}

      <button onClick={calculateMBTI} className="mt-6 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700">ê²°ê³¼ í™•ì¸í•˜ê¸°</button>

      {result && (
        <div className="mt-6 p-4 bg-yellow-100 rounded-lg">
          <h2 className="text-xl font-semibold">{result.name} ğŸŒ¸</h2>
          <p className="text-gray-800">{result.description}</p>
        </div>
      )}
    </div>
  );
};

export default FlowerMBTI;